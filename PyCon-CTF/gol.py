#!/usr/bin/python

from pprint import pprint

args = [['X', 'X', 'X', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', 'X', '.', 'X', '.', '.', '.'],
        ['.', '.', '.', '.', 'X', 'X', 'X', '.', '.', '.'],
        ['.', '.', '.', '.', 'X', '.', 'X', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]

'begin'
def result(a):
    r=range(10)
    X='X'
    O=-1,0,1
    l=[[0
        for
        j
        in
        r]
       for
       i
       in
       r]
    for i in r:
        for j in r:
            s=sum(p+i
                  in
                  r
                  and
                  q+j
                  in
                  r
                  and
                  not
                  p==q==0
                  and
                  a[p+i][q+j]==X
                  for
                  p
                  in
                  O
                  for
                  q
                  in
                  O)
            l[i][j]=['.',X][s==3
                            or
                            s==2
                            and
                            a[i][j]==X]
    return l
'end'

for i in range(7):
    print(i)
    pprint(args)
    args = result(args)
